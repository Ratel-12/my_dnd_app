{"ast":null,"code":"var _jsxFileName = \"/home/luke/Desktop/my_dnd_app/frontend/src/components/EditMonster.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport { AuthContext } from '../AuthContext';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\naxios.defaults.baseURL = 'http://localhost:5000';\nconst EditMonster = () => {\n  _s();\n  const {\n    currentUser\n  } = useContext(AuthContext);\n  const {\n    monsterId\n  } = useParams();\n  const history = useHistory();\n  const [monster, setMonster] = useState(null);\n  const [formulas, setFormulas] = useState([]);\n  useEffect(() => {\n    const fetchMonster = async () => {\n      try {\n        const response = await axios.get(`/api/monsters/${monsterId}`);\n        setMonster(response.data);\n        setFormulas(response.data.formulas || []);\n      } catch (error) {\n        console.error('Error fetching monster details:', error);\n      }\n    };\n    fetchMonster();\n  }, [monsterId]);\n  const handleRemoveFormula = index => {\n    const newFormulas = [...formulas];\n    newFormulas.splice(index, 1);\n    setFormulas(newFormulas);\n  };\n  const handleAddFormula = () => {\n    setFormulas([...formulas, {\n      name: '',\n      diceFormula: ''\n    }]);\n  };\n  const handleUpdateMonster = async () => {\n    try {\n      const updatedMonster = {\n        ...monster,\n        formulas\n      };\n      await axios.put(`/api/monsters/${monsterId}`, updatedMonster, {\n        headers: {\n          'Authorization': `Bearer ${currentUser.token}`\n        }\n      });\n      history.push(`/monster-details/${monsterId}`);\n    } catch (error) {\n      console.error('Error updating monster:', error);\n    }\n  };\n  if (!monster) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 24\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: monster.name,\n      onChange: e => setMonster({\n        ...monster,\n        name: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      value: monster.description,\n      onChange: e => setMonster({\n        ...monster,\n        description: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      value: monster.str,\n      onChange: e => setMonster({\n        ...monster,\n        str: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      value: monster.dex,\n      onChange: e => setMonster({\n        ...monster,\n        dex: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      value: monster.con,\n      onChange: e => setMonster({\n        ...monster,\n        con: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      value: monster.int,\n      onChange: e => setMonster({\n        ...monster,\n        int: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      value: monster.wis,\n      onChange: e => setMonster({\n        ...monster,\n        wis: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      value: monster.cha,\n      onChange: e => setMonster({\n        ...monster,\n        cha: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      value: monster.pb,\n      onChange: e => setMonster({\n        ...monster,\n        pb: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), formulas.map((formula, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: formula.name,\n        onChange: e => {\n          const newFormulas = [...formulas];\n          newFormulas[index].name = e.target.value;\n          setFormulas(newFormulas);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: formula.diceFormula,\n        onChange: e => {\n          const newFormulas = [...formulas];\n          newFormulas[index].diceFormula = e.target.value;\n          setFormulas(newFormulas);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleRemoveFormula(index),\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleAddFormula,\n      children: \"Add Formula\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUpdateMonster,\n      children: \"Update Monster\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(EditMonster, \"EZ6hHZ+lSp+dGLwvicGJS0sQYxo=\", false, function () {\n  return [useParams, useHistory];\n});\n_c = EditMonster;\nexport default EditMonster;\nvar _c;\n$RefreshReg$(_c, \"EditMonster\");","map":{"version":3,"names":["React","useState","useEffect","useContext","axios","AuthContext","useParams","useHistory","jsxDEV","_jsxDEV","defaults","baseURL","EditMonster","_s","currentUser","monsterId","history","monster","setMonster","formulas","setFormulas","fetchMonster","response","get","data","error","console","handleRemoveFormula","index","newFormulas","splice","handleAddFormula","name","diceFormula","handleUpdateMonster","updatedMonster","put","headers","token","push","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","description","str","dex","con","int","wis","cha","pb","map","formula","onClick","_c","$RefreshReg$"],"sources":["/home/luke/Desktop/my_dnd_app/frontend/src/components/EditMonster.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport { AuthContext } from '../AuthContext';\nimport { useParams, useHistory } from 'react-router-dom';\n\naxios.defaults.baseURL = 'http://localhost:5000';\n\nconst EditMonster = () => {\n  const { currentUser } = useContext(AuthContext);\n  const { monsterId } = useParams();\n  const history = useHistory();\n  \n  const [monster, setMonster] = useState(null);\n  const [formulas, setFormulas] = useState([]);\n\n  useEffect(() => {\n    const fetchMonster = async () => {\n      try {\n        const response = await axios.get(`/api/monsters/${monsterId}`);\n        setMonster(response.data);\n        setFormulas(response.data.formulas || []);\n      } catch (error) {\n        console.error('Error fetching monster details:', error);\n      }\n    };\n\n    fetchMonster();\n  }, [monsterId]);\n\n  const handleRemoveFormula = (index) => {\n    const newFormulas = [...formulas];\n    newFormulas.splice(index, 1);\n    setFormulas(newFormulas);\n  }\n\n  const handleAddFormula = () => {\n    setFormulas([...formulas, { name: '', diceFormula: '' }]);\n  }\n\n  const handleUpdateMonster = async () => {\n    try {\n      const updatedMonster = {\n        ...monster,\n        formulas\n      };\n      await axios.put(`/api/monsters/${monsterId}`, updatedMonster, { headers: { 'Authorization': `Bearer ${currentUser.token}` } });\n      history.push(`/monster-details/${monsterId}`);\n    } catch (error) {\n      console.error('Error updating monster:', error);\n    }\n  };\n\n  if (!monster) return <p>Loading...</p>;\n\n  return (\n    <div>\n      <input type=\"text\" value={monster.name} onChange={e => setMonster({ ...monster, name: e.target.value })} />\n      <textarea value={monster.description} onChange={e => setMonster({ ...monster, description: e.target.value })} />\n      <input type=\"number\" value={monster.str} onChange={e => setMonster({ ...monster, str: e.target.value })} />\n      <input type=\"number\" value={monster.dex} onChange={e => setMonster({ ...monster, dex: e.target.value })} />\n      <input type=\"number\" value={monster.con} onChange={e => setMonster({ ...monster, con: e.target.value })} />\n      <input type=\"number\" value={monster.int} onChange={e => setMonster({ ...monster, int: e.target.value })} />\n      <input type=\"number\" value={monster.wis} onChange={e => setMonster({ ...monster, wis: e.target.value })} />\n      <input type=\"number\" value={monster.cha} onChange={e => setMonster({ ...monster, cha: e.target.value })} />\n      <input type=\"number\" value={monster.pb} onChange={e => setMonster({ ...monster, pb: e.target.value })} />\n      {formulas.map((formula, index) => (\n        <div key={index}>\n          <input type=\"text\" value={formula.name} onChange={e => {\n            const newFormulas = [...formulas];\n            newFormulas[index].name = e.target.value;\n            setFormulas(newFormulas);\n          }} />\n          <input type=\"text\" value={formula.diceFormula} onChange={e => {\n            const newFormulas = [...formulas];\n            newFormulas[index].diceFormula = e.target.value;\n            setFormulas(newFormulas);\n          }} />\n          <button onClick={() => handleRemoveFormula(index)}>X</button>\n        </div>\n      ))}\n      <button onClick={handleAddFormula}>Add Formula</button>\n      <button onClick={handleUpdateMonster}>Update Monster</button>\n    </div>\n  );\n}\n\nexport default EditMonster;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC9D,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,SAASC,SAAS,EAAEC,UAAU,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzDL,KAAK,CAACM,QAAQ,CAACC,OAAO,GAAG,uBAAuB;AAEhD,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM;IAAEC;EAAY,CAAC,GAAGX,UAAU,CAACE,WAAW,CAAC;EAC/C,MAAM;IAAEU;EAAU,CAAC,GAAGT,SAAS,CAAC,CAAC;EACjC,MAAMU,OAAO,GAAGT,UAAU,CAAC,CAAC;EAE5B,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACkB,QAAQ,EAAEC,WAAW,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACd,MAAMmB,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMlB,KAAK,CAACmB,GAAG,CAAE,iBAAgBR,SAAU,EAAC,CAAC;QAC9DG,UAAU,CAACI,QAAQ,CAACE,IAAI,CAAC;QACzBJ,WAAW,CAACE,QAAQ,CAACE,IAAI,CAACL,QAAQ,IAAI,EAAE,CAAC;MAC3C,CAAC,CAAC,OAAOM,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MACzD;IACF,CAAC;IAEDJ,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,CAACN,SAAS,CAAC,CAAC;EAEf,MAAMY,mBAAmB,GAAIC,KAAK,IAAK;IACrC,MAAMC,WAAW,GAAG,CAAC,GAAGV,QAAQ,CAAC;IACjCU,WAAW,CAACC,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;IAC5BR,WAAW,CAACS,WAAW,CAAC;EAC1B,CAAC;EAED,MAAME,gBAAgB,GAAGA,CAAA,KAAM;IAC7BX,WAAW,CAAC,CAAC,GAAGD,QAAQ,EAAE;MAAEa,IAAI,EAAE,EAAE;MAAEC,WAAW,EAAE;IAAG,CAAC,CAAC,CAAC;EAC3D,CAAC;EAED,MAAMC,mBAAmB,GAAG,MAAAA,CAAA,KAAY;IACtC,IAAI;MACF,MAAMC,cAAc,GAAG;QACrB,GAAGlB,OAAO;QACVE;MACF,CAAC;MACD,MAAMf,KAAK,CAACgC,GAAG,CAAE,iBAAgBrB,SAAU,EAAC,EAAEoB,cAAc,EAAE;QAAEE,OAAO,EAAE;UAAE,eAAe,EAAG,UAASvB,WAAW,CAACwB,KAAM;QAAE;MAAE,CAAC,CAAC;MAC9HtB,OAAO,CAACuB,IAAI,CAAE,oBAAmBxB,SAAU,EAAC,CAAC;IAC/C,CAAC,CAAC,OAAOU,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD;EACF,CAAC;EAED,IAAI,CAACR,OAAO,EAAE,oBAAOR,OAAA;IAAA+B,QAAA,EAAG;EAAU;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EAEtC,oBACEnC,OAAA;IAAA+B,QAAA,gBACE/B,OAAA;MAAOoC,IAAI,EAAC,MAAM;MAACC,KAAK,EAAE7B,OAAO,CAACe,IAAK;MAACe,QAAQ,EAAEC,CAAC,IAAI9B,UAAU,CAAC;QAAE,GAAGD,OAAO;QAAEe,IAAI,EAAEgB,CAAC,CAACC,MAAM,CAACH;MAAM,CAAC;IAAE;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC3GnC,OAAA;MAAUqC,KAAK,EAAE7B,OAAO,CAACiC,WAAY;MAACH,QAAQ,EAAEC,CAAC,IAAI9B,UAAU,CAAC;QAAE,GAAGD,OAAO;QAAEiC,WAAW,EAAEF,CAAC,CAACC,MAAM,CAACH;MAAM,CAAC;IAAE;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAChHnC,OAAA;MAAOoC,IAAI,EAAC,QAAQ;MAACC,KAAK,EAAE7B,OAAO,CAACkC,GAAI;MAACJ,QAAQ,EAAEC,CAAC,IAAI9B,UAAU,CAAC;QAAE,GAAGD,OAAO;QAAEkC,GAAG,EAAEH,CAAC,CAACC,MAAM,CAACH;MAAM,CAAC;IAAE;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC3GnC,OAAA;MAAOoC,IAAI,EAAC,QAAQ;MAACC,KAAK,EAAE7B,OAAO,CAACmC,GAAI;MAACL,QAAQ,EAAEC,CAAC,IAAI9B,UAAU,CAAC;QAAE,GAAGD,OAAO;QAAEmC,GAAG,EAAEJ,CAAC,CAACC,MAAM,CAACH;MAAM,CAAC;IAAE;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC3GnC,OAAA;MAAOoC,IAAI,EAAC,QAAQ;MAACC,KAAK,EAAE7B,OAAO,CAACoC,GAAI;MAACN,QAAQ,EAAEC,CAAC,IAAI9B,UAAU,CAAC;QAAE,GAAGD,OAAO;QAAEoC,GAAG,EAAEL,CAAC,CAACC,MAAM,CAACH;MAAM,CAAC;IAAE;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC3GnC,OAAA;MAAOoC,IAAI,EAAC,QAAQ;MAACC,KAAK,EAAE7B,OAAO,CAACqC,GAAI;MAACP,QAAQ,EAAEC,CAAC,IAAI9B,UAAU,CAAC;QAAE,GAAGD,OAAO;QAAEqC,GAAG,EAAEN,CAAC,CAACC,MAAM,CAACH;MAAM,CAAC;IAAE;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC3GnC,OAAA;MAAOoC,IAAI,EAAC,QAAQ;MAACC,KAAK,EAAE7B,OAAO,CAACsC,GAAI;MAACR,QAAQ,EAAEC,CAAC,IAAI9B,UAAU,CAAC;QAAE,GAAGD,OAAO;QAAEsC,GAAG,EAAEP,CAAC,CAACC,MAAM,CAACH;MAAM,CAAC;IAAE;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC3GnC,OAAA;MAAOoC,IAAI,EAAC,QAAQ;MAACC,KAAK,EAAE7B,OAAO,CAACuC,GAAI;MAACT,QAAQ,EAAEC,CAAC,IAAI9B,UAAU,CAAC;QAAE,GAAGD,OAAO;QAAEuC,GAAG,EAAER,CAAC,CAACC,MAAM,CAACH;MAAM,CAAC;IAAE;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC3GnC,OAAA;MAAOoC,IAAI,EAAC,QAAQ;MAACC,KAAK,EAAE7B,OAAO,CAACwC,EAAG;MAACV,QAAQ,EAAEC,CAAC,IAAI9B,UAAU,CAAC;QAAE,GAAGD,OAAO;QAAEwC,EAAE,EAAET,CAAC,CAACC,MAAM,CAACH;MAAM,CAAC;IAAE;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EACxGzB,QAAQ,CAACuC,GAAG,CAAC,CAACC,OAAO,EAAE/B,KAAK,kBAC3BnB,OAAA;MAAA+B,QAAA,gBACE/B,OAAA;QAAOoC,IAAI,EAAC,MAAM;QAACC,KAAK,EAAEa,OAAO,CAAC3B,IAAK;QAACe,QAAQ,EAAEC,CAAC,IAAI;UACrD,MAAMnB,WAAW,GAAG,CAAC,GAAGV,QAAQ,CAAC;UACjCU,WAAW,CAACD,KAAK,CAAC,CAACI,IAAI,GAAGgB,CAAC,CAACC,MAAM,CAACH,KAAK;UACxC1B,WAAW,CAACS,WAAW,CAAC;QAC1B;MAAE;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACLnC,OAAA;QAAOoC,IAAI,EAAC,MAAM;QAACC,KAAK,EAAEa,OAAO,CAAC1B,WAAY;QAACc,QAAQ,EAAEC,CAAC,IAAI;UAC5D,MAAMnB,WAAW,GAAG,CAAC,GAAGV,QAAQ,CAAC;UACjCU,WAAW,CAACD,KAAK,CAAC,CAACK,WAAW,GAAGe,CAAC,CAACC,MAAM,CAACH,KAAK;UAC/C1B,WAAW,CAACS,WAAW,CAAC;QAC1B;MAAE;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACLnC,OAAA;QAAQmD,OAAO,EAAEA,CAAA,KAAMjC,mBAAmB,CAACC,KAAK,CAAE;QAAAY,QAAA,EAAC;MAAC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA,GAXrDhB,KAAK;MAAAa,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAYV,CACN,CAAC,eACFnC,OAAA;MAAQmD,OAAO,EAAE7B,gBAAiB;MAAAS,QAAA,EAAC;IAAW;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACvDnC,OAAA;MAAQmD,OAAO,EAAE1B,mBAAoB;MAAAM,QAAA,EAAC;IAAc;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC1D,CAAC;AAEV,CAAC;AAAA/B,EAAA,CA7EKD,WAAW;EAAA,QAEON,SAAS,EACfC,UAAU;AAAA;AAAAsD,EAAA,GAHtBjD,WAAW;AA+EjB,eAAeA,WAAW;AAAC,IAAAiD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}